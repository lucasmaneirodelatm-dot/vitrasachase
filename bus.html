<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Bus</title>
<link rel="stylesheet" href="styles.css">
<script src="datos.js"></script>
</head>
<body>

<h1>ðŸšŒ Dentro del Bus</h1>
<div id="datos"></div>

<button class="btn" onclick="tocarTimbre()">ðŸ”” Tocar timbre</button>

<script>
const p = new URLSearchParams(window.location.search);
const busId = p.get("id");
const bus = BUSES[busId];

// reloj interno
setInterval(() => {
  reloj++;
  actualizar();
}, 1000);

function actualizar(){
  const parada = paradaActual(bus, reloj);
  document.getElementById("datos").innerHTML = `
    <h2>LÃ­nea ${bus.linea}</h2>
    <p>Hora virtual: ${reloj}</p>
    <p>PrÃ³xima parada: ${parada}</p>
    <p>Hoja de ruta:</p>
    <ul>
      ${bus.ruta.map(r => `<li>${r}</li>`).join("")}
    </ul>
  `;
}

function tocarTimbre(){
  const destino = paradaActual(bus, reloj + 1);
  location.href = "parada.html?id=" + destino;
}

actualizar();
</script>
</body>
</html>
