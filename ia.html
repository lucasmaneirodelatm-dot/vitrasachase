<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Contra IA</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>

<div id="loader" class="loader">
  <img src="https://raw.githubusercontent.com/lucasmaneirodelatm-dot/vitrasachase/refs/heads/main/LoaderAvanza.gif">
</div>

<main id="main" class="hidden">

  <h2>ü§ñ IA</h2>

  <div class="card">
    <label>Tu nombre:</label>
    <input id="me">

    <label>Tu rol:</label>
    <select id="rol">
      <option value="fugitivo">Fugitivo</option>
      <option value="perseguidor">Perseguidor</option>
    </select>

    <label>Nivel IA:</label>
    <select id="lvl">
      <option>f√°cil</option>
      <option>normal</option>
      <option>dif√≠cil</option>
    </select>

    <button class="btn" onclick="startIA()">Jugar</button>
  </div>

</main>

<script src="common.js"></script>
<script>
waitForResourcesThenShow();

function startIA(){
  const yo = document.getElementById("me").value || "Jugador";
  const rol = document.getElementById("rol").value;
  const lvl = document.getElementById("lvl").value;

  const iaRol = rol==="fugitivo" ? "perseguidor" : "fugitivo";

  localStorage.setItem("salaJugadores", JSON.stringify([
    {nombre:yo, rol},
    {nombre:"IA ("+lvl+")", rol:iaRol}
  ]));

  location.href = "sala.html";
}
</script>

</body>
</html>
